#ifndef {{ network.name}}_IDS_H
#define {{ network.name }}_IDS_H

#define {{ network.name }}_IDS_VERSION {{ network.version }}f

{%- for topic_name, topic_id in network.topics.items() %}
{% set topic_messages = network.get_messages_by_topic(topic_name) %}
/* TOPIC {{ topic_name }} */
#define TOPIC_{{ topic_name }}_MASK 0b00000011111
    {%- if topic_id is not sameas None %}
#define TOPIC_{{ topic_name }}_FILTER 0b{{ "{0:>011b}".format(topic_id) }}
    {%- endif %}
    {%- for message_contents in topic_messages.values() %}
        {%- if "description" in message_contents %}
/*
            {%- for line in message_contents["description"].split("\n") %}
* {{ line }}
            {%- endfor %}
*/
        {%- endif %}

        {%- for message_sub_name, message_id in message_contents["id"].items() %}
#define {{ network.name.upper() }}_ID_{{ message_sub_name }} 0b{{ "{0:>011b}".format(message_id) }}
        {%- endfor %}
    {%- endfor -%}
{% endfor %}

#endif
